import{u as b,q as g,s as f,c,p as e,f as h,a as s,t as d,l as r,F as k,j as x,r as m,i as y,o as i,k as A}from"./index-C6ZveIad.js";import{P as w}from"./PageHeader-DIKsNb4s.js";import{S as u}from"./StatCard-DBIiFOJ4.js";import{S as T}from"./StatusBadge-CnPGBlg1.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"stats-grid"},S={class:"amount-grid mt-6"},E={class:"card"},q={class:"card-body"},B={class:"amount-card"},F={class:"amount-value"},V={class:"card"},C={class:"card-body"},I={class:"amount-card"},L={class:"amount-value"},P={class:"dashboard-grid mt-6"},$={class:"card"},j={class:"card-body"},H={class:"quick-actions"},M={class:"card"},Q={class:"card-body card-body-compact"},R={key:0,class:"empty-state"},U={key:1,class:"recent-list"},W={class:"recent-name"},z={class:"recent-meta"},G={__name:"DashboardView",setup(J){const _=b(),a=m({}),p=m([]);return g(async()=>{try{const l=await f.getDashboard();a.value=l.stats||{},p.value=l.recentTrips||[]}catch(l){console.error("Dashboard load error:",l)}}),(l,t)=>{var v;const n=y("router-link");return i(),c("div",null,[e(w,{title:"Dashboard",icon:"bi bi-grid-1x2-fill",subtitle:`Welcome back, ${((v=h(_).user)==null?void 0:v.name)||"User"}`},null,8,["subtitle"]),s("div",N,[e(u,{icon:"bi bi-airplane-fill",label:"Total Trips",value:a.value.totalTrips,color:"primary"},null,8,["value"]),e(u,{icon:"bi bi-receipt-cutoff",label:"Total Expenses",value:a.value.totalExpenses,color:"success"},null,8,["value"]),e(u,{icon:"bi bi-credit-card-fill",label:"Total Advances",value:a.value.totalAdvances,color:"warning"},null,8,["value"]),e(u,{icon:"bi bi-hourglass-split",label:"Pending Approval",value:a.value.pendingTrips+a.value.pendingExpenses+a.value.pendingAdvances,color:"danger"},null,8,["value"])]),s("div",S,[s("div",E,[s("div",q,[s("div",B,[s("div",null,[t[0]||(t[0]=s("p",{class:"text-muted text-sm"},"Total Expense Amount",-1)),s("p",F,"₹"+d((a.value.totalExpenseAmount||0).toLocaleString("en-IN",{minimumFractionDigits:2})),1)]),t[1]||(t[1]=s("div",{class:"amount-icon success"},[s("i",{class:"bi bi-cash-stack"})],-1))])])]),s("div",V,[s("div",C,[s("div",I,[s("div",null,[t[2]||(t[2]=s("p",{class:"text-muted text-sm"},"Total Advance Amount",-1)),s("p",L,"₹"+d((a.value.totalAdvanceAmount||0).toLocaleString("en-IN",{minimumFractionDigits:2})),1)]),t[3]||(t[3]=s("div",{class:"amount-icon warning"},[s("i",{class:"bi bi-credit-card"})],-1))])])])]),s("div",P,[s("div",$,[t[7]||(t[7]=s("div",{class:"card-header"},[s("span",{class:"card-title"},"Quick Actions")],-1)),s("div",j,[s("div",H,[e(n,{to:"/app/trips/new",class:"quick-action"},{default:r(()=>[...t[4]||(t[4]=[s("i",{class:"bi bi-airplane"},null,-1),s("span",null,"New Trip",-1)])]),_:1}),e(n,{to:"/app/expenses/new",class:"quick-action"},{default:r(()=>[...t[5]||(t[5]=[s("i",{class:"bi bi-receipt"},null,-1),s("span",null,"New Expense",-1)])]),_:1}),e(n,{to:"/app/advances/new",class:"quick-action"},{default:r(()=>[...t[6]||(t[6]=[s("i",{class:"bi bi-credit-card-2-front"},null,-1),s("span",null,"New Advance",-1)])]),_:1})])])]),s("div",M,[t[9]||(t[9]=s("div",{class:"card-header"},[s("span",{class:"card-title"},"Recent Trips")],-1)),s("div",Q,[p.value.length?(i(),c("div",U,[(i(!0),c(k,null,x(p.value,o=>(i(),A(n,{key:o.id,to:`/app/trips/${o.id}`,class:"recent-item"},{default:r(()=>[s("div",null,[s("span",W,d(o.trip_name),1),s("span",z,d(o.travel_type),1)]),e(T,{status:o.status},null,8,["status"])]),_:2},1032,["to"]))),128))])):(i(),c("div",R,[...t[8]||(t[8]=[s("p",null,"No trips yet",-1)])]))])])])])}}},ss=D(G,[["__scopeId","data-v-0b78da71"]]);export{ss as default};
