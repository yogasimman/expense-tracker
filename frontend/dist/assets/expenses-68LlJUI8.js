import{C as d,r as i,s as r}from"./index-BFw-5ybC.js";const y=d("expenses",()=>{const n=i([]),c=i(!1),u=i(null);async function o(e={}){c.value=!0,u.value=null;try{n.value=await r.getExpenses(e)}catch(s){u.value=s.message}finally{c.value=!1}}async function p(e){return await r.createExpense(e)}async function f(e){const s=await r.deleteExpense(e);return s.success&&(n.value=n.value.filter(t=>t.id!==e)),s}async function x(e){const s=await r.approveExpenses(e);return s.success&&e.forEach(t=>{const a=n.value.findIndex(l=>l.id===t);a!==-1&&(n.value[a].status="approved")}),s}async function v(e,s){const t=await r.rejectExpense(e,s);if(t.success){const a=n.value.findIndex(l=>l.id===e);a!==-1&&(n.value[a].status="rejected",n.value[a].rejection_reason=s)}return t}return{expenses:n,loading:c,error:u,fetchExpenses:o,createExpense:p,deleteExpense:f,approveExpenses:x,rejectExpense:v}});export{y as u};
