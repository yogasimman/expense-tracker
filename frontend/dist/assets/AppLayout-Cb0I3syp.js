import{g as S,h as x,u as C,i as A,o,c as l,a as s,F as k,j as L,k as V,l as w,n as _,t as d,d as B,m as $,r as y,f,p as b,b as N,T as E}from"./index-BFw-5ybC.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as R}from"./useToast-s_LeXPXK.js";const j={class:"sidebar-nav"},F={class:"nav-label"},z={__name:"TheSidebar",setup(g){const r=S(),t=x(),i=C(),m=y(!1),a=y(!1);function e(u){return u.to==="/app"?t.path==="/app"||t.path==="/app/":t.path.startsWith(u.to)}const c=[{to:"/app",icon:"bi bi-house-fill",label:"Home"},{to:"/app/trips",icon:"bi bi-airplane-fill",label:"Trip"},{to:"/app/expenses",icon:"bi bi-cash-stack",label:"Expenses"},{to:"/app/reports",icon:"bi bi-card-checklist",label:"Reports"},{to:"/app/advances",icon:"bi bi-credit-card",label:"Advances"},{to:"/app/approvals",icon:"bi bi-check2-circle",label:"Approvals",admin:!0},{to:"/app/analytics",icon:"bi bi-bar-chart-fill",label:"Analytics"},{to:"/app/settings",icon:"bi bi-gear-fill",label:"Settings"}],v=$(()=>c.filter(u=>!u.admin||i.isAdmin));async function T(){await i.logout(),r.push("/app/login")}return(u,n)=>{const I=A("router-link");return o(),l(k,null,[s("aside",{class:_(["sidebar",{collapsed:m.value}])},[s("div",{class:"sidebar-brand",onClick:n[0]||(n[0]=p=>u.$router.push("/app"))},[...n[2]||(n[2]=[s("i",{class:"bi bi-wallet2"},null,-1),s("span",{class:"brand-text"},"VY Expense",-1)])]),s("nav",j,[(o(!0),l(k,null,L(v.value,p=>(o(),V(I,{key:p.to,to:p.to,class:_(["nav-item",{active:e(p)}])},{default:w(()=>[s("i",{class:_(p.icon)},null,2),s("span",F,"  "+d(p.label),1)]),_:2},1032,["to","class"]))),128))]),s("div",{class:"sidebar-footer"},[s("a",{class:"nav-item logout-btn",onClick:T},[...n[3]||(n[3]=[s("i",{class:"bi bi-box-arrow-right"},null,-1),s("span",{class:"nav-label"},"  Logout",-1)])])])],2),a.value?(o(),l("div",{key:0,class:"sidebar-overlay",onClick:n[1]||(n[1]=p=>a.value=!1)})):B("",!0)],64)}}},D=h(z,[["__scopeId","data-v-bc301ed1"]]),G={class:"topbar"},H={class:"topbar-left"},M={class:"page-title"},O={class:"topbar-right"},U={class:"user-info"},W={class:"avatar"},Y={class:"user-meta"},q={class:"user-name"},J={class:"user-role"},K={__name:"TheTopbar",emits:["toggle-sidebar"],setup(g){const r=x(),t=C(),i=$(()=>{var a;return((a=r.meta)==null?void 0:a.title)||r.name||""}),m=$(()=>{var e;return(((e=t.user)==null?void 0:e.name)||"").split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2)});return(a,e)=>{var c,v;return o(),l("header",G,[s("div",H,[s("button",{class:"btn-ghost mobile-menu",onClick:e[0]||(e[0]=T=>a.$emit("toggle-sidebar"))},[...e[1]||(e[1]=[s("i",{class:"bi bi-list"},null,-1)])]),s("h1",M,d(i.value),1)]),s("div",O,[s("div",U,[s("div",W,d(m.value),1),s("div",Y,[s("span",q,d((c=f(t).user)==null?void 0:c.name),1),s("span",J,d((v=f(t).user)==null?void 0:v.role),1)])])])])}}},P=h(K,[["__scopeId","data-v-4ff1f93b"]]),Q={class:"toast-container"},X=["onClick"],Z={__name:"ToastList",setup(g){const{toasts:r,remove:t}=R(),i={success:"bi bi-check-circle-fill",error:"bi bi-exclamation-circle-fill",info:"bi bi-info-circle-fill"};return(m,a)=>(o(),l("div",Q,[b(E,{name:"toast"},{default:w(()=>[(o(!0),l(k,null,L(f(r),e=>(o(),l("div",{key:e.id,class:_(["toast",`toast-${e.type}`]),onClick:c=>f(t)(e.id)},[s("i",{class:_(i[e.type])},null,2),N(" "+d(e.message),1)],10,X))),128))]),_:1})]))}},ss=h(Z,[["__scopeId","data-v-ff63d660"]]),es={class:"app-layout"},ts={class:"app-main"},as={class:"page-content"},os={__name:"AppLayout",setup(g){return(r,t)=>{const i=A("router-view");return o(),l("div",es,[b(D),s("div",ts,[b(P),s("main",as,[b(i)])]),b(ss)])}}},rs=h(os,[["__scopeId","data-v-db3f7b4b"]]);export{rs as default};
